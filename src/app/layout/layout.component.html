<div class="min-h-screen flex flex-col bg-surface text-on-surface">
  
  <!-- Header at top, always full width (100% viewport) -->
  <div class="sticky top-0 z-50 transition-transform duration-300" appStickyHeader #stickyHeader>
    <app-header (menuToggle)="onMenuToggle()"></app-header>
  </div>

  <!-- Angular Material Sidenav Container -->
  <mat-sidenav-container class="flex-1 sidenav-container">
    
    <!-- Angular Material Sidenav -->
    <mat-sidenav 
      #sidenav
      [mode]="(getSidenavMode() | async) || 'side'"
      [opened]="(getSidenavOpened() | async) || false"
      [ngClass]="getSidebarClasses() | async"
      class="bg-surface-container border-r border-surface-variant transition-all duration-300">
      <app-sidebar></app-sidebar>
    </mat-sidenav>

    <!-- Sidenav Content -->
    <mat-sidenav-content>
      
      <!-- Main content area -->
      <main class="flex flex-col min-h-full">
        
        <!-- Content area -->
        <div class="flex-1 py-6">
          <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8">
            <app-main-content></app-main-content>
          </div>
        </div>
        
        <!-- Footer -->
        <app-footer></app-footer>
        
      </main>

    </mat-sidenav-content>

  </mat-sidenav-container>
</div>