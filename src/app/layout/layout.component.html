<div class="min-h-screen flex flex-col">
  <div class="sticky top-0 z-50 transition-transform duration-300" appStickyHeader #stickyHeader>
    <app-header (menuToggle)="navigationService.toggleSidebarVisible()"></app-header>
  </div>

  <div class="flex flex-1 relative">
    <div *ngIf="navigationService.isSidebarVisible()"
         class="fixed left-0 z-40 transition-all duration-300 ease-in-out fixed-sidebar"
         [style.width.px]="navigationService.sidebarWidth()"
         [style.top.px]="headerHeight"
         [style.height]="'calc(100vh - ' + headerHeight + 'px)'">

      <div class="h-full overflow-y-auto overflow-x-hidden sidebar-scroll">
        <app-sidebar></app-sidebar>
      </div>
    </div>

    <div class="flex-1 transition-all duration-300 ease-in-out"
         [style.margin-left.px]="navigationService.isSidebarVisible() ? navigationService.sidebarWidth() : 0"
         [style.margin-top.px]="headerHeight">

      <div class="min-h-screen bg-surface">
        <app-main-content></app-main-content>
        <app-footer></app-footer>
      </div>
    </div>
  </div>
</div>